<!DOCTYPE html>
<html>
<head>
  <title>Enter Key</title>
</head>
<body>

<h2>Enter Access Key</h2>

<input id="key" placeholder="Enter key">
<button onclick="login()">Submit</button>

<script>
async function login() {

  const key = document.getElementById("key").value;

  const res = await fetch(
    "https://mathspacekey.joshua-watson.workers.dev/",
    {
      headers: {
        "X-User-Key": key
      }
    }
  );

  if (!res.ok) {
    alert("Invalid key");
    return;
  }

  const code = await res.text();

  // RUN protected script
  new Function(code)();
}
</script>

</body>
</html>
